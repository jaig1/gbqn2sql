<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="900" viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#059669" />
    </marker>
    <marker id="compositionhead" markerWidth="12" markerHeight="8" 
     refX="11" refY="4" orient="auto">
      <polygon points="0 4, 6 0, 12 4, 6 8" fill="#059669" stroke="#059669" />
    </marker>
  </defs>

  <!-- Title and Subtitle -->
  <text x="700" y="30" text-anchor="middle" font-family="Arial" font-size="22" font-weight="bold" fill="#1f2937">
    Core Database Structure Ontology
  </text>
  <text x="700" y="50" text-anchor="middle" font-family="Arial" font-size="12" fill="#6b7280">
    BigQuery insurance analytics database schema and relationships
  </text>

  <!-- Database Class -->
  <g id="database">
    <rect x="50" y="100" width="200" height="120" rx="8" 
          fill="#dbeafe" stroke="#1e40af" stroke-width="2"/>
    <text x="150" y="120" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1e3a8a">
      sql:Database
    </text>
    <text x="150" y="135" text-anchor="middle" font-family="Arial" font-size="10" fill="#6b7280">
      &lt;&lt;Class&gt;&gt;
    </text>
    <line x1="60" y1="140" x2="240" y2="140" stroke="#1e40af" stroke-width="1"/>
    <text x="60" y="155" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + identifier: string
    </text>
    <text x="60" y="170" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + description: string
    </text>
    <text x="60" y="185" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + hasSchema: Schema [1..*]
    </text>
    <text x="60" y="200" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + created: dateTime
    </text>
  </g>

  <!-- Schema Class -->
  <g id="schema">
    <rect x="350" y="100" width="220" height="140" rx="8" 
          fill="#dbeafe" stroke="#1e40af" stroke-width="2"/>
    <text x="460" y="120" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1e3a8a">
      sql:Schema
    </text>
    <text x="460" y="135" text-anchor="middle" font-family="Arial" font-size="10" fill="#6b7280">
      &lt;&lt;Class&gt;&gt;
    </text>
    <line x1="360" y1="140" x2="560" y2="140" stroke="#1e40af" stroke-width="1"/>
    <text x="360" y="155" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + identifier: string
    </text>
    <text x="360" y="170" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + description: string
    </text>
    <text x="360" y="185" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + hasTable: Table [1..*]
    </text>
    <text x="360" y="200" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + rowCount: integer
    </text>
    <text x="360" y="215" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + sizeBytes: integer
    </text>
  </g>

  <!-- Table Class -->
  <g id="table">
    <rect x="650" y="80" width="200" height="160" rx="8" 
          fill="#dbeafe" stroke="#1e40af" stroke-width="2"/>
    <text x="750" y="100" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1e3a8a">
      sql:Table
    </text>
    <text x="750" y="115" text-anchor="middle" font-family="Arial" font-size="10" fill="#6b7280">
      &lt;&lt;Class&gt;&gt;
    </text>
    <line x1="660" y1="120" x2="840" y2="120" stroke="#1e40af" stroke-width="1"/>
    <text x="660" y="135" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + identifier: string
    </text>
    <text x="660" y="150" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + description: string
    </text>
    <text x="660" y="165" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + hasColumn: Column [1..*]
    </text>
    <text x="660" y="180" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + created: dateTime
    </text>
    <text x="660" y="195" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + modified: dateTime
    </text>
    <text x="660" y="210" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + rowCount: integer
    </text>
    <text x="660" y="225" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + qualityScore: float
    </text>
  </g>

  <!-- Column Class -->
  <g id="column">
    <rect x="950" y="50" width="220" height="220" rx="8" 
          fill="#dbeafe" stroke="#1e40af" stroke-width="2"/>
    <text x="1060" y="70" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1e3a8a">
      sql:Column
    </text>
    <text x="1060" y="85" text-anchor="middle" font-family="Arial" font-size="10" fill="#6b7280">
      &lt;&lt;Class&gt;&gt;
    </text>
    <line x1="960" y1="90" x2="1160" y2="90" stroke="#1e40af" stroke-width="1"/>
    <text x="960" y="105" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + identifier: string
    </text>
    <text x="960" y="120" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + description: string
    </text>
    <text x="960" y="135" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + dataType: string
    </text>
    <text x="960" y="150" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + bigqueryType: string
    </text>
    <text x="960" y="165" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + nullable: boolean
    </text>
    <text x="960" y="180" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + primaryKey: boolean
    </text>
    <text x="960" y="195" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + required: boolean
    </text>
    <text x="960" y="210" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + sensitivity: string
    </text>
    <text x="960" y="225" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + totalCount: integer
    </text>
    <text x="960" y="240" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + distinctCount: integer
    </text>
    <text x="960" y="255" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + cardinality: float
    </text>
  </g>

  <!-- ForeignKey Class -->
  <g id="foreignkey">
    <rect x="650" y="320" width="200" height="140" rx="8" 
          fill="#dbeafe" stroke="#1e40af" stroke-width="2"/>
    <text x="750" y="340" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1e3a8a">
      sql:ForeignKey
    </text>
    <text x="750" y="355" text-anchor="middle" font-family="Arial" font-size="10" fill="#6b7280">
      &lt;&lt;Class&gt;&gt;
    </text>
    <line x1="660" y1="360" x2="840" y2="360" stroke="#1e40af" stroke-width="1"/>
    <text x="660" y="375" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + fromColumn: Column [1]
    </text>
    <text x="660" y="390" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + toColumn: Column [1]
    </text>
    <text x="660" y="405" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + fromTable: Table [1]
    </text>
    <text x="660" y="420" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + toTable: Table [1]
    </text>
    <text x="660" y="435" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + relationshipType: string
    </text>
    <text x="660" y="450" font-family="Courier New" font-size="11" fill="#1e3a8a">
      + cardinality: string
    </text>
  </g>

  <!-- Example Instances -->
  <!-- Insurance Analytics Dataset -->
  <g id="dataset-instance">
    <rect x="350" y="280" width="220" height="100" rx="8" 
          fill="#f0fdf4" stroke="#16a34a" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="460" y="300" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#15803d">
      &lt;&lt;instance&gt;&gt;
    </text>
    <text x="460" y="315" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" fill="#15803d">
      insurance_analytics
    </text>
    <line x1="360" y1="320" x2="560" y2="320" stroke="#16a34a" stroke-width="1"/>
    <text x="360" y="335" font-family="Courier New" font-size="10" fill="#15803d">
      identifier: "insurance_analytics"
    </text>
    <text x="360" y="350" font-family="Courier New" font-size="10" fill="#15803d">
      rowCount: 269
    </text>
    <text x="360" y="365" font-family="Courier New" font-size="10" fill="#15803d">
      sizeBytes: 16,234
    </text>
  </g>

  <!-- Insurance Agents Table Instance -->
  <g id="agents-instance">
    <rect x="920" y="320" width="200" height="120" rx="8" 
          fill="#f0fdf4" stroke="#16a34a" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="1020" y="340" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#15803d">
      &lt;&lt;instance&gt;&gt;
    </text>
    <text x="1020" y="355" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" fill="#15803d">
      insurance_agents
    </text>
    <line x1="930" y1="360" x2="1110" y2="360" stroke="#16a34a" stroke-width="1"/>
    <text x="930" y="375" font-family="Courier New" font-size="10" fill="#15803d">
      identifier: "insurance_agents"
    </text>
    <text x="930" y="390" font-family="Courier New" font-size="10" fill="#15803d">
      rowCount: 32
    </text>
    <text x="930" y="405" font-family="Courier New" font-size="10" fill="#15803d">
      qualityScore: 70.32
    </text>
    <text x="930" y="420" font-family="Courier New" font-size="10" fill="#15803d">
      columns: 8
    </text>
  </g>

  <!-- Customer ID Column Instance -->
  <g id="customerid-instance">
    <rect x="1200" y="320" width="180" height="140" rx="8" 
          fill="#f0fdf4" stroke="#16a34a" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="1290" y="340" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#15803d">
      &lt;&lt;instance&gt;&gt;
    </text>
    <text x="1290" y="355" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#15803d">
      customer_id
    </text>
    <line x1="1210" y1="360" x2="1370" y2="360" stroke="#16a34a" stroke-width="1"/>
    <text x="1210" y="375" font-family="Courier New" font-size="9" fill="#15803d">
      dataType: "INTEGER"
    </text>
    <text x="1210" y="388" font-family="Courier New" font-size="9" fill="#15803d">
      primaryKey: true
    </text>
    <text x="1210" y="401" font-family="Courier New" font-size="9" fill="#15803d">
      required: true
    </text>
    <text x="1210" y="414" font-family="Courier New" font-size="9" fill="#15803d">
      totalCount: 60
    </text>
    <text x="1210" y="427" font-family="Courier New" font-size="9" fill="#15803d">
      distinctCount: 15
    </text>
    <text x="1210" y="440" font-family="Courier New" font-size="9" fill="#15803d">
      cardinality: 0.25
    </text>
  </g>

  <!-- Foreign Key Instance -->
  <g id="fk-instance">
    <rect x="400" y="500" width="220" height="100" rx="8" 
          fill="#f0fdf4" stroke="#16a34a" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="510" y="520" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#15803d">
      &lt;&lt;instance&gt;&gt;
    </text>
    <text x="510" y="535" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#15803d">
      policies→customers FK
    </text>
    <line x1="410" y1="540" x2="610" y2="540" stroke="#16a34a" stroke-width="1"/>
    <text x="410" y="555" font-family="Courier New" font-size="9" fill="#15803d">
      relationshipType: "BELONGS_TO"
    </text>
    <text x="410" y="568" font-family="Courier New" font-size="9" fill="#15803d">
      cardinality: "MANY_TO_ONE"
    </text>
    <text x="410" y="581" font-family="Courier New" font-size="9" fill="#15803d">
      fromTable: insurance_policies
    </text>
  </g>

  <!-- Relationships -->
  <!-- Database -> Schema -->
  <line x1="250" y1="160" x2="350" y2="160" stroke="#059669" stroke-width="2" 
        marker-end="url(#compositionhead)"/>
  <text x="300" y="155" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#059669">
    hasSchema
  </text>
  <text x="270" y="175" font-family="Arial" font-size="9" fill="#6b7280">
    [1..*]
  </text>

  <!-- Schema -> Table -->
  <line x1="570" y1="170" x2="650" y2="170" stroke="#059669" stroke-width="2" 
        marker-end="url(#compositionhead)"/>
  <text x="610" y="165" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#059669">
    hasTable
  </text>
  <text x="590" y="185" font-family="Arial" font-size="9" fill="#6b7280">
    [1..*]
  </text>

  <!-- Table -> Column -->
  <line x1="850" y1="160" x2="950" y2="160" stroke="#059669" stroke-width="2" 
        marker-end="url(#compositionhead)"/>
  <text x="900" y="155" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#059669">
    hasColumn
  </text>
  <text x="870" y="175" font-family="Arial" font-size="9" fill="#6b7280">
    [1..*]
  </text>

  <!-- ForeignKey -> Table (fromTable) -->
  <line x1="750" y1="320" x2="750" y2="240" stroke="#059669" stroke-width="2" 
        marker-end="url(#arrowhead)"/>
  <text x="760" y="280" font-family="Arial" font-size="11" font-weight="bold" fill="#059669">
    fromTable/toTable
  </text>

  <!-- ForeignKey -> Column -->
  <line x1="850" y1="380" x2="950" y2="250" stroke="#059669" stroke-width="2" 
        marker-end="url(#arrowhead)"/>
  <text x="880" y="315" font-family="Arial" font-size="11" font-weight="bold" fill="#059669">
    fromColumn/toColumn
  </text>

  <!-- Instance relationships -->
  <line x1="460" y1="280" x2="460" y2="240" stroke="#16a34a" stroke-width="1" 
        stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  
  <line x1="570" y1="330" x2="650" y2="200" stroke="#16a34a" stroke-width="1" 
        stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>

  <line x1="850" y1="380" x2="920" y2="380" stroke="#16a34a" stroke-width="1" 
        stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>

  <line x1="1120" y1="380" x2="1200" y2="380" stroke="#16a34a" stroke-width="1" 
        stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>

  <!-- Data Flow Process -->
  <g id="data-flow">
    <text x="50" y="520" font-family="Arial" font-size="14" font-weight="bold" fill="#1f2937">
      Data Organization Hierarchy:
    </text>
    
    <rect x="50" y="540" width="120" height="30" rx="4" fill="#fef3c7" stroke="#d97706" stroke-width="1"/>
    <text x="110" y="558" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#78350f">
      1. BigQuery Project
    </text>
    
    <text x="180" y="555" font-family="Arial" font-size="16" fill="#6b7280">→</text>
    
    <rect x="200" y="540" width="100" height="30" rx="4" fill="#fef3c7" stroke="#d97706" stroke-width="1"/>
    <text x="250" y="558" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#78350f">
      2. Dataset
    </text>
    
    <text x="310" y="555" font-family="Arial" font-size="16" fill="#6b7280">→</text>
    
    <rect x="330" y="540" width="80" height="30" rx="4" fill="#fef3c7" stroke="#d97706" stroke-width="1"/>
    <text x="370" y="558" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#78350f">
      3. Table
    </text>
    
    <text x="420" y="555" font-family="Arial" font-size="16" fill="#6b7280">→</text>
    
    <rect x="440" y="540" width="90" height="30" rx="4" fill="#fef3c7" stroke="#d97706" stroke-width="1"/>
    <text x="485" y="558" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#78350f">
      4. Columns
    </text>
  </g>

  <!-- Statistics Box -->
  <g id="stats">
    <rect x="50" y="630" width="300" height="150" rx="8" fill="#f8fafc" stroke="#64748b" stroke-width="1"/>
    <text x="60" y="650" font-family="Arial" font-size="13" font-weight="bold" fill="#1e293b">
      Insurance Database Statistics
    </text>
    <line x1="60" y1="655" x2="340" y2="655" stroke="#64748b" stroke-width="1"/>
    
    <text x="60" y="675" font-family="Courier New" font-size="11" fill="#334155">
      📊 Total Tables: 4
    </text>
    <text x="60" y="690" font-family="Courier New" font-size="11" fill="#334155">
      📋 Total Columns: 26
    </text>
    <text x="60" y="705" font-family="Courier New" font-size="11" fill="#334155">
      🔗 Foreign Keys: 3
    </text>
    <text x="60" y="720" font-family="Courier New" font-size="11" fill="#334155">
      📈 Total Records: 269
    </text>
    <text x="60" y="740" font-family="Courier New" font-size="11" fill="#334155">
      Tables: agents(32), customers(60),
    </text>
    <text x="60" y="755" font-family="Courier New" font-size="11" fill="#334155">
             policies(102), claims(75)
    </text>
    <text x="60" y="770" font-family="Courier New" font-size="11" fill="#334155">
      💾 Dataset Size: 16.2KB
    </text>
  </g>

  <!-- Legend -->
  <g id="legend">
    <rect x="1050" y="630" width="320" height="200" rx="8" fill="#f8fafc" stroke="#64748b" stroke-width="1"/>
    <text x="1060" y="650" font-family="Arial" font-size="13" font-weight="bold" fill="#1e293b">
      Legend
    </text>
    <line x1="1060" y1="655" x2="1360" y2="655" stroke="#64748b" stroke-width="1"/>
    
    <!-- Class boxes -->
    <rect x="1060" y="670" width="60" height="20" rx="3" fill="#dbeafe" stroke="#1e40af" stroke-width="1"/>
    <text x="1130" y="682" font-family="Arial" font-size="10" fill="#334155">
      SQL Classes
    </text>
    
    <rect x="1060" y="695" width="60" height="20" rx="3" fill="#f0fdf4" stroke="#16a34a" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="1130" y="707" font-family="Arial" font-size="10" fill="#334155">
      Instances
    </text>
    
    <rect x="1060" y="720" width="60" height="20" rx="3" fill="#fef3c7" stroke="#d97706" stroke-width="1"/>
    <text x="1130" y="732" font-family="Arial" font-size="10" fill="#334155">
      Process Flow
    </text>
    
    <!-- Relationship lines -->
    <line x1="1060" y1="750" x2="1110" y2="750" stroke="#059669" stroke-width="2" marker-end="url(#compositionhead)"/>
    <text x="1120" y="754" font-family="Arial" font-size="10" fill="#334155">
      Composition (contains)
    </text>
    
    <line x1="1060" y1="770" x2="1110" y2="770" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="1120" y="774" font-family="Arial" font-size="10" fill="#334155">
      Association (references)
    </text>
    
    <line x1="1060" y1="790" x2="1110" y2="790" stroke="#16a34a" stroke-width="1" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
    <text x="1120" y="794" font-family="Arial" font-size="10" fill="#334155">
      Instance relationship
    </text>
    
    <!-- Cardinality notation -->
    <text x="1060" y="815" font-family="Arial" font-size="10" font-weight="bold" fill="#334155">
      Cardinality Notation:
    </text>
    <text x="1070" y="830" font-family="Courier New" font-size="9" fill="#334155">
      [1] = exactly one
    </text>
    <text x="1070" y="843" font-family="Courier New" font-size="9" fill="#334155">
      [1..*] = one or more
    </text>
    <text x="1200" y="830" font-family="Courier New" font-size="9" fill="#334155">
      [0..1] = zero or one
    </text>
    <text x="1200" y="843" font-family="Courier New" font-size="9" fill="#334155">
      [*] = zero or more
    </text>
  </g>
</svg>